

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.2. Plan &mdash; gpyfft 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="gpyfft 0.1 documentation" href="index.html" />
    <link rel="up" title="3. gpyfft class structure" href="code.html" />
    <link rel="next" title="3.3. GpyFFT_Error" href="gpyfft_error.html" />
    <link rel="prev" title="3.1. GpyFFT" href="gpyfft.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gpyfft_error.html" title="3.3. GpyFFT_Error"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gpyfft.html" title="3.1. GpyFFT"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">gpyfft 0.1 documentation</a> &raquo;</li>
          <li><a href="code.html" accesskey="U">3. gpyfft class structure</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="plan">
<h1>3.2. Plan<a class="headerlink" href="#plan" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gpyfft.Plan">
<em class="property">class </em><tt class="descclassname">gpyfft.</tt><tt class="descname">Plan</tt><a class="headerlink" href="#gpyfft.Plan" title="Permalink to this definition">¶</a></dt>
<dd><p>A plan is the collection of (almost) all parameters needed to specify 
an FFT computation. This includes:</p>
<ul class="simple">
<li>What pyopencl context executes the transform?</li>
<li>Is this a 1D, 2D or 3D transform?</li>
<li>What are the lengths or extents of the data in each dimension?</li>
<li>How many datasets are being transformed?</li>
<li>What is the data precision?</li>
<li>Should a scaling factor be applied to the transformed data?</li>
<li>Does the output transformed data replace the original input data in the same buffer (or buffers), or is the output data written to a different buffer (or buffers).</li>
<li>How is the input data stored in its data buffers?</li>
<li>How is the output data stored in its data buffers?</li>
</ul>
<p>The plan does not include:</p>
<ul class="simple">
<li>The pyopencl handles to the input and output data buffers.</li>
<li>The pyopencl handle to a temporary scratch buffer (if needed).</li>
<li>Whether to execute a forward or reverse transform.</li>
</ul>
<p>These are specified later, when the plan is executed.</p>
<p class="rubric">Methods</p>
<dl class="attribute">
<dt id="gpyfft.Plan.__init__">
<tt class="descname">__init__</tt><a class="headerlink" href="#gpyfft.Plan.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a Plan object</p>
<p>Plan objects are created internally by gpyfft; normally
a user does not create these objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>contex</strong> : pyopencl.Context</p>
<blockquote>
<div><p><a class="reference external" href="http://documen.tician.de/pyopencl/runtime.html#pyopencl.Context">http://documen.tician.de/pyopencl/runtime.html#pyopencl.Context</a></p>
</div></blockquote>
<p><strong>shape</strong> : tuple</p>
<blockquote>
<div><p>the dimensionality of the transform</p>
</div></blockquote>
<p><strong>lib</strong> :  no idea</p>
<blockquote>
<div><p>this is a thing that does lib things</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>ValueError</strong> :</p>
<blockquote class="last">
<div><blockquote>
<div><p>when the shape isn&#8217;t a tuple of length 1, 2 or 3</p>
</div></blockquote>
<dl class="docutils">
<dt>TypeError</dt>
<dd><p class="first last">because the context argument isn&#8217;t a valid pyopencl.Context</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The underlying AMD FFT call is &#8216;clAmdFftCreateDefaultPlan&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.precision">
<tt class="descname">precision</tt><a class="headerlink" href="#gpyfft.Plan.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>the floating point precision of the FFT data</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.scale_forward">
<tt class="descname">scale_forward</tt><a class="headerlink" href="#gpyfft.Plan.scale_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>the scaling factor to be applied to the FFT data for forward transforms</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.scale_backward">
<tt class="descname">scale_backward</tt><a class="headerlink" href="#gpyfft.Plan.scale_backward" title="Permalink to this definition">¶</a></dt>
<dd><p>the scaling factor to be applied to the FFT data for backward transforms</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.batch_size">
<tt class="descname">batch_size</tt><a class="headerlink" href="#gpyfft.Plan.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of discrete arrays that this plan can handle concurrently</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#gpyfft.Plan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>the length of each dimension of the FFT</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.strides_in">
<tt class="descname">strides_in</tt><a class="headerlink" href="#gpyfft.Plan.strides_in" title="Permalink to this definition">¶</a></dt>
<dd><p>the distance between consecutive elements for input buffers 
in a dimension</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.strides_out">
<tt class="descname">strides_out</tt><a class="headerlink" href="#gpyfft.Plan.strides_out" title="Permalink to this definition">¶</a></dt>
<dd><p>the distance between consecutive elements for output buffers 
in a dimension</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.distances">
<tt class="descname">distances</tt><a class="headerlink" href="#gpyfft.Plan.distances" title="Permalink to this definition">¶</a></dt>
<dd><p>the distance between array objects</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.layouts">
<tt class="descname">layouts</tt><a class="headerlink" href="#gpyfft.Plan.layouts" title="Permalink to this definition">¶</a></dt>
<dd><p>the expected layout of the output buffers</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.inplace">
<tt class="descname">inplace</tt><a class="headerlink" href="#gpyfft.Plan.inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>determines if the input buffers are going to be overwritten with 
results (True == inplace, False == out of place)</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.temp_array_size">
<tt class="descname">temp_array_size</tt><a class="headerlink" href="#gpyfft.Plan.temp_array_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the buffer size (in bytes), which may be needed internally for an
intermediate buffer</p>
</dd></dl>

<dl class="attribute">
<dt id="gpyfft.Plan.transpose_result">
<tt class="descname">transpose_result</tt><a class="headerlink" href="#gpyfft.Plan.transpose_result" title="Permalink to this definition">¶</a></dt>
<dd><p>the final transpose setting of a multi-dimensional FFT</p>
</dd></dl>

<dl class="method">
<dt id="gpyfft.Plan.bake">
<tt class="descname">bake</tt><big>(</big><big>)</big><a class="headerlink" href="#gpyfft.Plan.bake" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the plan for execution</p>
<p>After all plan parameters are set, the client has the option of &#8220;baking&#8221; the plan, which tells the
runtime no more changes to the plan&#8217;s parameters are expected, and the OpenCL kernels are
to be compiled. This optional function allows the client application to perform this function when
the application is being initialized instead of on the first execution. At this point, the clAmdFft
runtime applies all implemented optimizations, possibly including running kernel experiments on
the devices in the plan context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>queues</strong> : list</p>
<blockquote>
<div><p>this is a list of things</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>None</strong> :</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>GpyFFT_Error</strong> :</p>
<blockquote class="last">
<div><p>An error occurred accessing the clAmdFftBakePlan function</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The underlying AMD FFT call is &#8216;clAmdFftBakePlan&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="gpyfft.Plan.enqueue_transform">
<tt class="descname">enqueue_transform</tt><big>(</big><big>)</big><a class="headerlink" href="#gpyfft.Plan.enqueue_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Enqueue an FFT transform operation, and either return immediately, or block 
waiting for events.</p>
<p>This transform API is specific to the interleaved complex format, taking an input buffer with real
and imaginary components paired together, and outputting the results into an output buffer in the
same format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>queues</strong> : list</p>
<blockquote>
<div><p>of things</p>
</div></blockquote>
<p><strong>in_buffers</strong> : array-like</p>
<blockquote>
<div><p>array-like input data</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>None</strong> :</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first"><strong>out_buffers</strong> : array-like, optional</p>
<blockquote>
<div><p>if the plan is out-of-place, then we have out buffers</p>
</div></blockquote>
<p><strong>direction_forward</strong> : bool, optional</p>
<blockquote>
<div><p>this works like it sounds like it should</p>
</div></blockquote>
<p><strong>wait_for_events</strong> : list, optional</p>
<blockquote>
<div><p>I am not sure how this interface works</p>
</div></blockquote>
<p><strong>temp_buffer</strong> : buffer, optional</p>
<blockquote>
<div><p>I am not sure how this works</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>GpyFFT_Error</strong> :</p>
<blockquote class="last">
<div><p>An error occurred accessing the clAmdFftEnqueueTransform function</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The underlying AMD FFT call is &#8216;clAmdFftEnqueueTransform&#8217;</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="gpyfft.html"
                        title="previous chapter">3.1. GpyFFT</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gpyfft_error.html"
                        title="next chapter">3.3. GpyFFT_Error</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/plan.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gpyfft_error.html" title="3.3. GpyFFT_Error"
             >next</a> |</li>
        <li class="right" >
          <a href="gpyfft.html" title="3.1. GpyFFT"
             >previous</a> |</li>
        <li><a href="index.html">gpyfft 0.1 documentation</a> &raquo;</li>
          <li><a href="code.html" >3. gpyfft class structure</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Gregor Thalhammer.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>